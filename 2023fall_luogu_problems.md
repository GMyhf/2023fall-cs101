

# Programming Problems in luogu.com.cn

Updated 1520 GMT+8 Sep 9, 2023



2023 fall, Complied by Hongfei Yan



所用的编程语言：主要选择Python语言；个别题目超时不能AC时，选择C++语言。用Python讲编程，有个特别大的好处。有的题目C++直接AC了，但是Python会超时，学生会琢磨如何优化，应用时间复杂度，更换算法等。对于理解计算机相关原理特别有帮助。问题求解的关键在于算法，而语言之间的可移植性、模块性和效率等方面的差异已经变得不那么重要了。





# ==Basic Exercises==

#. title, algorithm, link

标题中有*的题目，对于初学者来说是难题。



## P1047: [NOIP2005 普及组] 校门外的树

bruteforce, https://www.luogu.com.cn/problem/P1047

某校大门外长度为 $l$ 的马路上有一排树，每两棵相邻的树之间的间隔都是 $1$ 米。我们可以把马路看成一个数轴，马路的一端在数轴 $0$ 的位置，另一端在 $l$ 的位置；数轴上的每个整数点，即 $0,1,2,\dots,l$，都种有一棵树。


由于马路上有一些区域要用来建地铁。这些区域用它们在数轴上的起始点和终止点表示。已知任一区域的起始点和终止点的坐标都是整数，区域之间可能有重合的部分。现在要把这些区域中的树（包括区域端点处的两棵树）移走。你的任务是计算将这些树都移走后，马路上还有多少棵树。

**输入格式**

第一行有两个整数，分别表示马路的长度 $l$ 和区域的数目 $m$。

接下来 $m$ 行，每行两个整数 $u, v$，表示一个区域的起始点和终止点的坐标。

**输出格式**

输出一行一个整数，表示将这些树都移走后，马路上剩余的树木数量。

样例 #1

样例输入 #1

```
500 3
150 300
100 200
470 471
```

样例输出 #1

```
298
```

提示

【数据范围】

- 对于 $20\%$ 的数据，保证区域之间没有重合的部分。
- 对于 $100\%$ 的数据，保证 $1 \leq l \leq 10^4$，$1 \leq m \leq 100$，$0 \leq u \leq v \leq l$。

【题目来源】

NOIP 2005 普及组第二题



与这个题目一样，代码复制、粘贴，直接AC。

02808: 校门外的树

implementation, http://cs101.openjudge.cn/practice/02808

```python
L, m = map(int, input().split())

dp = [1]*(L+1)

for i in range(m):
    s, e = map(int, input().split())
    for j in range(s, e+1):
        dp[j] = 0

print(dp.count(1))
```





## P5727: 冰雹猜想

bruteforce, https://www.luogu.com.cn/problem/P5727

给出一个正整数 $n$，然后对这个数字一直进行下面的操作：如果这个数字是奇数，那么将其乘 $3$ 再加 $1$，否则除以 $2$。经过若干次循环后，最终都会回到 $1$。经过验证很大的数字（$7\times10^{11}$）都可以按照这样的方式比变成 $1$，所以被称为“冰雹猜想”。例如当 $n$ 是 $20$，变化的过程是 $20\to 10\to 5\to 16\to 8\to 4\to 2\to 1$。

根据给定的数字，验证这个猜想，并从最后的 $1$ 开始，倒序输出整个变化序列。

**输入格式**

输入一个正整数 $n$。

**输出格式**

输出若干个由空格隔开的正整数，表示从最后的 $1$ 开始倒序的变化数列。

样例输入

```
20
```

样例输出

```
1 2 4 8 16 5 10 20
```

提示：数据保证，$1 \le n\le 100$。



一种简洁高效的方法来判断一个数是否为奇数，可以使用位运算。利用二进制数的性质，奇数的二进制表示的最后一位一定是1，而偶数的二进制表示的最后一位一定是0。使用了`&`运算符对数字和1进行按位与操作。如果运算结果为1，表示该数为奇数。使用位运算判断奇数相对于使用取模运算符可能会更快一些，因为它只需要对二进制数进行位运算，而不涉及除法运算。

类似的除以2，可以 number >> 1。

```python
n = int(input())
res = []
while n != 1:
        res.append(n)
        if n & 1:
                n = n*3 + 1
        else:
                n = n >> 1

print(1, ' '.join(map(str, res[::-1])))
```



【白晨旭，2023年秋】 思路：之前做过一个类似的，就是这样最后有点像这个倒序输出。就递归下一层+print。

```python
def write(n):
        if n == 1:
                print(1, end = ' ')
                return
        write(n * 3 + 1 if n&1 else n>>1)
        print(f'{n}', end = ' ')

write(int(input()))
```





# ==OPTIONAL PROBLEMS==

## P5730: 【深基5.例10】显示屏

bruteforce, https://www.luogu.com.cn/problem/P5730

液晶屏上，每个阿拉伯数字都是可以显示成 $3\times5$ 的点阵的（其中 `X` 表示亮点，`.` 表示暗点）。现在给出数字位数（不超过 $100$）和一串数字，要求输出这些数字在显示屏上的效果。数字的显示方式如同样例输出，注意每个数字之间都有一列间隔。

**输入格式**

第一行输入一个正整数 $n$，表示数字的位数。

第二行输入一个长度为 $n$ 的自然数。

**输出格式**

输出五行，表示显示屏上的数字。

样例 #1

样例输入 #1

```
10
0123456789
```

样例输出 #1

```
XXX...X.XXX.XXX.X.X.XXX.XXX.XXX.XXX.XXX
X.X...X...X...X.X.X.X...X.....X.X.X.X.X
X.X...X.XXX.XXX.XXX.XXX.XXX...X.XXX.XXX
X.X...X.X.....X...X...X.X.X...X.X.X...X
XXX...X.XXX.XXX...X.XXX.XXX...X.XXX.XXX
```

提示

数据保证，$1 \leq n \leq 100$。



【2023fall, 夏天明】我的想法是，先把0~9的画法写在一个长度10的list里，每个元素是一个长度5的list，这个子list存储对应单个数字每行的长度为3的字符串。然后用个循环，对于目标数的每一个数字的列表的同序号项以.相隔拼接起来，最后逐行输出就可以了。

```python
# 它的测试数据有问题，接收输入加个strip
#10个数字的图
sample = [["XXX","X.X","X.X","X.X","XXX"],
          ["..X","..X","..X","..X","..X"],
          ["XXX","..X","XXX","X..","XXX"],
          ["XXX","..X","XXX","..X","XXX"],
          ["X.X","X.X","XXX","..X","..X"],
          ["XXX","X..","XXX","..X","XXX"],
          ["XXX","X..","XXX","X.X","XXX"],
          ["XXX","..X","..X","..X","..X"],
          ["XXX","X.X","XXX","X.X","XXX"],
          ["XXX","X.X","XXX","..X","XXX"]]

n = int(input())
k = input().strip()
for i in range(5):
    print(".".join([sample[int(m)][i] for m in k]))
```



# References

[1]. 