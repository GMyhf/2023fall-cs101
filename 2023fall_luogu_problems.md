

# Programming Problems in luogu.com.cn

Updated 2309 GMT+8 Sep 1, 2023



2023 fall, Complied by Hongfei Yan



所用的编程语言：主要选择Python语言；个别题目超时不能AC时，选择C++语言。用Python讲编程，有个特别大的好处。有的题目C++直接AC了，但是Python会超时，学生会琢磨如何优化，应用时间复杂度，更换算法等。对于理解计算机相关原理特别有帮助。问题求解的关键在于算法，而语言之间的可移植性、模块性和效率等方面的差异已经变得不那么重要了。





# ==Basic Exercises==

#. title, algorithm, link

标题中有*的题目，对于初学者来说是难题。





## P5727: 冰雹猜想

bruteforce, https://www.luogu.com.cn/problem/P5727

给出一个正整数 $n$，然后对这个数字一直进行下面的操作：如果这个数字是奇数，那么将其乘 $3$ 再加 $1$，否则除以 $2$。经过若干次循环后，最终都会回到 $1$。经过验证很大的数字（$7\times10^{11}$）都可以按照这样的方式比变成 $1$，所以被称为“冰雹猜想”。例如当 $n$ 是 $20$，变化的过程是 $20\to 10\to 5\to 16\to 8\to 4\to 2\to 1$。

根据给定的数字，验证这个猜想，并从最后的 $1$ 开始，倒序输出整个变化序列。

**输入格式**

输入一个正整数 $n$。

**输出格式**

输出若干个由空格隔开的正整数，表示从最后的 $1$ 开始倒序的变化数列。

样例输入

```
20
```

样例输出

```
1 2 4 8 16 5 10 20
```

提示：数据保证，$1 \le n\le 100$。



一种简洁高效的方法来判断一个数是否为奇数，可以使用位运算。利用二进制数的性质，奇数的二进制表示的最后一位一定是1，而偶数的二进制表示的最后一位一定是0。使用了`&`运算符对数字和1进行按位与操作。如果运算结果为1，表示该数为奇数。使用位运算判断奇数相对于使用取模运算符可能会更快一些，因为它只需要对二进制数进行位运算，而不涉及除法运算。

类似的除以2，可以 number >> 1。

```python
n = int(input())
res = []
while n != 1:
        res.append(n)
        if n & 1:
                n = n*3 + 1
        else:
                n = n >> 1

print(1, ' '.join(map(str, res[::-1])))
```



【白晨旭，2023年秋】 思路：之前做过一个类似的，就是这样最后有点像这个倒序输出。就递归下一层+print。

```python
def write(n):
        if n == 1:
                print(1, end = ' ')
                return
        write(n * 3 + 1 if n&1 else n>>1)
        print(f'{n}', end = ' ')

write(int(input()))
```





# ==OPTIONAL PROBLEMS==

## XX158: Taxi





# References

[1]. 